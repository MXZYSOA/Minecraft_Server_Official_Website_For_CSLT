<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= title %></title>
    <meta name="keywords" content="创世乐土,像素方块,PixelCraft,我的世界服务器,Minecraft">
    <link rel="shortcut icon" href="/images/cd.ico"/>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Common CSS -->
    <link rel="stylesheet" href="/assets/css/common.css">
    
    <%- include('partials/page-css') %>
</head>
<body>
    <!-- 导航栏 -->
    <%- include('partials/navbar') %>
    
    <!-- 英雄区域 -->
    <section class="hero-section bg-gradient-primary text-white">
        <div class="container">
            <div class="row align-items-center min-vh-75">
                <div class="col-lg-6">
                    <h1 class="display-3 fw-bold mb-4">欢迎来到创世乐土</h1>
                    <p class="lead mb-4">一个充满创意与冒险的 Minecraft 服务器，在这里你可以建造梦想中的世界，与朋友一起探索无限可能。</p>
                    <div class="d-flex gap-3 flex-wrap">
                        <a href="#features" class="btn btn-light btn-lg">
                            <i class="fas fa-rocket me-2"></i>开始探索
                        </a>
                        <a href="/guide" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-book me-2"></i>新手指引
                        </a>
                    </div>
                </div>
                <div class="col-lg-6 text-center">
                    <img src="/images/hero-image.png" alt="创世乐土" class="img-fluid rounded-3 shadow-lg" style="max-height: 400px;">
                </div>
            </div>
        </div>
    </section>
    
    <!-- 服务器状态 -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-3 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body">
                            <i class="fas fa-users fa-2x text-primary mb-3"></i>
                            <h5 class="card-title">在线玩家</h5>
                            <h3 class="text-primary" id="online-players">--</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body">
                            <i class="fas fa-server fa-2x text-success mb-3"></i>
                            <h5 class="card-title">服务器状态</h5>
                            <span class="badge bg-success fs-6" id="server-status">检测中...</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body">
                            <i class="fas fa-clock fa-2x text-info mb-3"></i>
                            <h5 class="card-title">运行时间</h5>
                            <p class="text-info mb-0" id="uptime">计算中...</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body">
                            <i class="fas fa-gamepad fa-2x text-warning mb-3"></i>
                            <h5 class="card-title">游戏版本</h5>
                            <p class="text-warning mb-0">1.20.1</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- 功能特色 -->
    <section id="features" class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center mb-5">
                    <h2 class="display-5 fw-bold">服务器特色</h2>
                    <p class="lead text-muted">为玩家提供最佳的游戏体验</p>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-hammer fa-3x text-primary mb-3"></i>
                            <h5 class="card-title">创造建造</h5>
                            <p class="card-text">无限的创造空间，让你的想象力自由飞翔，建造属于你的梦想世界。</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-shield-alt fa-3x text-success mb-3"></i>
                            <h5 class="card-title">安全保护</h5>
                            <p class="card-text">完善的保护系统，确保你的建筑和物品安全，让你安心游戏。</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-users fa-3x text-info mb-3"></i>
                            <h5 class="card-title">社区互动</h5>
                            <p class="card-text">活跃的玩家社区，与志同道合的朋友一起探索、建造、冒险。</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-cogs fa-3x text-warning mb-3"></i>
                            <h5 class="card-title">丰富插件</h5>
                            <p class="card-text">精心挑选的插件系统，提供更多游戏玩法和便利功能。</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-trophy fa-3x text-danger mb-3"></i>
                            <h5 class="card-title">活动竞赛</h5>
                            <p class="card-text">定期举办各种活动和竞赛，丰富的奖励等你来拿。</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-headset fa-3x text-secondary mb-3"></i>
                            <h5 class="card-title">客服支持</h5>
                            <p class="card-text">24/7 在线客服支持，随时为你解决游戏中遇到的问题。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- 快速开始 -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2 class="display-6 fw-bold mb-4">立即开始你的冒险</h2>
                    <p class="lead mb-4">只需几个简单步骤，就能加入我们的服务器开始游戏。</p>
                    <div class="d-flex gap-3">
                        <a href="/guide" class="btn btn-primary btn-lg">
                            <i class="fas fa-play me-2"></i>开始游戏
                        </a>
                        <a href="#contact" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-comments me-2"></i>联系我们
                        </a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="row g-3">
                        <div class="col-12">
                            <div class="d-flex align-items-center p-3 bg-white rounded shadow-sm">
                                <div class="flex-shrink-0">
                                    <span class="badge bg-primary rounded-circle p-2">1</span>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-1">下载 Minecraft</h6>
                                    <small class="text-muted">确保你有正版 Minecraft Java 版</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex align-items-center p-3 bg-white rounded shadow-sm">
                                <div class="flex-shrink-0">
                                    <span class="badge bg-primary rounded-circle p-2">2</span>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-1">添加服务器</h6>
                                    <small class="text-muted">在多人游戏中添加我们的服务器地址</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex align-items-center p-3 bg-white rounded shadow-sm">
                                <div class="flex-shrink-0">
                                    <span class="badge bg-primary rounded-circle p-2">3</span>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h6 class="mb-1">开始冒险</h6>
                                    <small class="text-muted">加入服务器，开始你的创世之旅</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- 页脚 -->
    <%- include('partials/footer') %>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/browser.min.js"></script>
    <script src="/assets/js/breakpoints.min.js"></script>
    <script src="/assets/js/util.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/animations.js"></script>
    <script src="/assets/js/lazy-load.js"></script>
    
    <%- include('partials/page-js') %>
    
    <!-- 组件加载器 -->
    <script src="/components/component-loader.js"></script>
    
    <!-- 首页特定脚本 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 加载服务器状态
            loadServerStatus();
            
            // 每30秒更新一次状态
            setInterval(loadServerStatus, 30000);
        });
        
        async function loadServerStatus() {
            try {
                const response = await fetch('/api/server-status');
                const result = await response.json();
                
                if (result.success) {
                    const data = result.data;
                    document.getElementById('online-players').textContent = data.onlinePlayers || '--';
                    document.getElementById('server-status').textContent = data.status || '离线';
                    document.getElementById('server-status').className = `badge fs-6 ${data.status === '在线' ? 'bg-success' : 'bg-danger'}`;
                }
            } catch (error) {
                console.error('加载服务器状态失败:', error);
            }
        }
    </script>
</body>
</html>